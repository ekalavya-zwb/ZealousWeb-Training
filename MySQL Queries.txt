Day 1: MySQL Fundamentals:-

Exercise 1.1: Create a database called company_db:
CREATE DATABASE company_db;
SHOW DATABASES;

Exercise 1.2: Create a table named employees: 
USE company_db;
CREATE TABLE employees(
id INT PRIMARY KEY AUTO_INCREMENT,
first_name VARCHAR(50),
last_name VARCHAR(50),
email VARCHAR(100),
hire_date DATE,
salary DECIMAL
);
SELECT * FROM employees;

Exercise 1.3: Create another table departments: 
CREATE TABLE departments(
dept_id INT PRIMARY KEY AUTO_INCREMENT,
dept_name VARCHAR(50),
location VARCHAR(50)
);
SELECT * FROM departments;

Day 2: MySQL - Data Manipulation & Queries:-

Exercise 2.1: Insert 4 employees into the employees table with different salaries and hire dates:
INSERT INTO employees(id, first_name, last_name, email, hire_date, salary) VALUES (100, "Ekalavya", "Patel", "ekalavya@gmail.com", "2026-01-01", 15000);
INSERT INTO employees(first_name, last_name, email, hire_date, salary) VALUES ("Shubham", "Patel", "shubham@gmail.com", "2026-01-01", 16000);
INSERT INTO employees(first_name, last_name, email, hire_date, salary) VALUES ("Divya", "Gupta", "divya@gmail.com", "2026-01-01", 15000);
INSERT INTO employees(first_name, last_name, email, hire_date, salary) VALUES ("Utkarsh", "Sharma", "utkarsh@gmail.com", "2026-01-01", 14000);

Exercise 2.2: Insert 4 departments into the departments table:
INSERT INTO departments(dept_id, dept_name, location) VALUES (200, "Development", "302");
INSERT INTO departments(dept_name, location) VALUES ("Testing", "301");
INSERT INTO departments(dept_name, location) VALUES ("Development", "302");
INSERT INTO departments(dept_name, location) VALUES ("Designing", "202");
SELECT * FROM departments;

Exercise 2.3: Write queries to:
i).Select all employees
SELECT * FROM employees;

ii).Select only first_name and email of all employees
SELECT first_name, email FROM employees;

iii).Find employees with salary > 50000
SELECT * FROM employees WHERE salary > 50000;

iv).Find employees hired after '2023-01-01'
SELECT * FROM employees WHERE hire_date > "2023-01-01";

v).Count total number of employees
SELECT COUNT(*) AS TotalEmplCount FROM employees;

Exercise 2.4: Update exercises:
i).Increase salary by 10% for a specific employee
UPDATE employees SET salary = salary + (salary * 0.1) WHERE id = 103;

ii).Change department location for a specific department
UPDATE departments SET location = "201" WHERE dept_id = 203;

Exercise 2.5: Advanced queries:
i).Find the highest salary
SELECT MAX(salary) AS HighSal FROM employees;

ii).Find average salary of all employees
SELECT AVG(salary) AS AvgSal FROM employees;

iii).List employees ordered by salary (highest first)
SELECT * FROM employees ORDER BY salary DESC;

iv).Find employees whose first name starts with 'J'
SELECT * FROM employees WHERE first_name LIKE "J%";

v).Get the 3 most recently hired employees
(Doubt)

Exercise 2.6: Delete an employee record and verify deletion:
DELETE FROM employees WHERE id = 100;
SELECT * FROM employees WHERE id = 100;

Comprehensive Exercises:-

Exercise Set 1: JOINs Mastery
1.1 INNER JOIN Exercises:

Q1: List all employees with their department names
SELECT employees.first_name, employees.last_name, departments.dept_name FROM employees JOIN departments ON employees.dept_id = departments.dept_id;

Q2: Show all projects with their department names
SELECT projects.project_name, departments.dept_name FROM projects JOIN departments ON projects.dept_id = departments.dept_id;

Q3: List employees working on projects with project names and their roles
SELECT employees.first_name, employees.last_name, projects.project_name, employee_projects.role FROM ((projects 
JOIN employees ON projects.dept_id = employees.dept_id)
JOIN employee_projects ON projects.project_id = employee_projects.project_id);                                                                                                                  

Q4: Find employees in the Engineering department with salary > 70000
SELECT employees.first_name, employees.last_name, departments.dept_name FROM employees JOIN departments ON employees.dept_id = departments.dept_id 
WHERE employees.salary > 70000;                                                                                                             

1.2 LEFT JOIN Exercises:

Q1: List all employees and their department names (include employees without departments)
SELECT e.id, e.first_name, e.last_name, d.dept_name FROM employees AS e LEFT JOIN departments AS d ON e.dept_id = d.dept_id;

Q2: Show all departments and count of employees in each (include departments with 0 employees)
SELECT d.dept_id, d.dept_name, COUNT(e.id) AS EmplCount FROM departments AS d LEFT JOIN employees AS e ON d.dept_id = e.dept_id GROUP BY d.dept_id;

Q3: List all projects and total hours worked (include projects with no assigned employees)
SELECT p.project_id, p.project_name, SUM(ep.hours_worked) AS Total_Hours FROM projects AS p LEFT JOIN employee_projects AS ep 
ON p.project_id = ep.project_id GROUP BY p.project_id;

1.3 RIGHT JOIN Exercises:

Q1: List all departments and their employees (show all departments even if no employees)
SELECT d.dept_id, d.dept_name, e.first_name, e.last_name FROM employees AS e RIGHT JOIN departments AS d ON e.dept_id = d.dept_id;

Q2: Show all projects with employee assignments (include all projects)
SELECT p.project_name, e.first_name, e.last_name FROM ((employee_projects AS ep
RIGHT JOIN projects AS p ON ep.project_id = p.project_id)
JOIN employees AS e ON ep.emp_id = e.id);

1.4 SELF JOIN Exercise:

Q1: List all employees with their manager's name
SELECT e1.id, e1.first_name, e1.last_name, e2.first_name AS manager_fname, e2.last_name AS manager_lname FROM employees AS e1, employees AS e2 
WHERE e1.manager_id = e2.id;

Q2: Find employees who earn more than their manager
SELECT e1.id, e1.first_name, e1.last_name, e1.salary, e2.first_name AS manager_fname, e2.last_name AS manager_lname, e2.salary FROM employees AS e1, employees AS e2 
WHERE e1.manager_id = e2.id AND e1.salary > e2.salary;

1.5 CROSS JOIN Exercise:

Q1: Create all possible combinations of employees and projects
SELECT e.first_name, e.last_name, p.project_name FROM projects AS p CROSS JOIN employees AS e;

Q2: How many total combinations are there?
SELECT COUNT(*) AS Total_Combinations FROM projects CROSS JOIN employees;

1.6 Multiple JOIN Exercise:

Q1: List employee name, department name, project name, and role for all assignments
SELECT e.first_name, e.last_name, d.dept_name, p.project_name, ep.role FROM ((employee_projects AS ep
JOIN employees AS e ON ep.emp_id = e.id JOIN departments AS d ON e.dept_id = d.dept_id)
JOIN projects AS p ON ep.project_id = p.project_id);

Q2: Find total budget of all projects in each department with department location
SELECT p.project_name, d.dept_name, d.location, SUM(p.budget) AS Total_Budget FROM projects AS p JOIN departments AS d ON p.dept_id = d.dept_id GROUP BY p.project_id;

Exercise Set 2: UNION Operations
2.1 Basic UNION:

Q1: Create a list of all unique locations (from both departments and a hypothetical clients table)
SELECT location FROM departments UNION SELECT location FROM clients;

Q2: Combine employee emails and a fictional customer_emails into one list (remove duplicates)
SELECT email FROM employees UNION SELECT customer_emails FROM clients;

2.2 UNION ALL:

Q1: Get all salaries from employees and all budgets from projects in one list (keep duplicates)
SELECT salary FROM employees UNION ALL SELECT budget FROM projects;

Q2: Create a complete activity log showing all hire_dates and project start_dates
SELECT hire_date AS ActivityLog FROM employees UNION ALL SELECT start_date FROM projects;

2.3 Advanced UNION:

Q1: Create a report showing:
 - All employees with their salary labeled as 'Employee Salary'
 - All projects with their budget labeled as 'Project Budget'
 - Order the combined result by amount

(Doubt)

Exercise Set 3: Subqueries
3.1 Subqueries in WHERE:

Q1: Find employees whose salary is above the average salary
SELECT * FROM employees WHERE salary > (SELECT AVG(salary) FROM employees);

Q2: List employees working in departments located in 'New York'
SELECT first_name, last_name FROM employees WHERE dept_id IN (SELECT dept_id FROM departments WHERE location = "New York");

Q3: Find employees who are NOT assigned to any project
SELECT first_name, last_name FROM employees WHERE id IN (SELECT emp_id FROM employee_projects WHERE project_id IS NULL);

Q4: Get employees who work on projects with budget > 100000
SELECT first_name, last_name FROM employees WHERE id IN 
(SELECT ep.emp_id FROM employee_projects AS ep JOIN projects AS p ON ep.project_id = p.project_id WHERE p.budget > 100000);

Q5: Find the employee(s) with the highest salary
SELECT * FROM employees WHERE salary = (SELECT MAX(salary) FROM employees);

3.2 Subqueries with IN:

Q1: Find employees who work in either Engineering or Marketing
SELECT * FROM employees WHERE dept_id IN (SELECT dept_id FROM departments WHERE dept_name = "Engineering" OR dept_name = "Marketing");

Q2: List projects that have at least one employee assigned
(Doubt)

Q3: Find departments that have no projects
(Doubt)

Exercise Set 4: GROUP BY & HAVING
4.1 Basic GROUP BY:

Q1: Count employees in each department
SELECT d.dept_name, COUNT(e.id) AS EmplCount FROM employees AS e JOIN departments AS d ON e.dept_id = d.dept_id GROUP BY dept_name; 

Q2: Calculate total and average salary per department
SELECT d.dept_name, SUM(e.salary) AS TotalSal, AVG(e.salary) AS AvgSal FROM employees AS e JOIN departments AS d ON e.dept_id = d.dept_id GROUP BY d.dept_name;

Q3: Find total hours worked per project
SELECT p.project_name, SUM(ep.hours_worked) AS TotalHours FROM projects AS p JOIN employee_projects AS ep ON p.project_id = ep.project_id GROUP BY p.project_name;

Q4: Count number of projects per department
SELECT d.dept_name, COUNT(p.project_id) AS ProjectsCount FROM projects AS p JOIN departments AS d ON p.dept_id = d.dept_id GROUP BY d.dept_name;

4.2 HAVING Clause:

Q1: Find departments with more than 2 employees
SELECT d.dept_name, COUNT(e.id) AS EmplCount FROM employees AS e JOIN departments AS d ON e.dept_id = d.dept_id GROUP BY d.dept_name HAVING COUNT(e.id) > 2;

Q2: List projects where total hours worked > 500
SELECT p.project_name, SUM(ep.hours_worked) AS TotalHours FROM projects AS p JOIN employee_projects AS ep ON p.project_id = ep.project_id GROUP BY p.project_name 
HAVING SUM(ep.hours_worked) > 500;

Q3: Find departments with average salary > 65000
SELECT d.dept_name, AVG(e.salary) AS AvgSalary FROM departments AS d JOIN employees AS e ON d.dept_id = e.dept_id GROUP BY d.dept_name HAVING AVG(e.salary) > 65000;

Q4: Show employees who work on more than 1 project
SELECT e.id, e.first_name, e.last_name, COUNT(p.project_id) AS Projects_Count FROM ((employee_projects AS ep 
JOIN employees AS e ON ep.emp_id = e.id)
JOIN projects AS p ON ep.project_id = p.project_id)
GROUP BY e.id HAVING COUNT(p.project_id) > 1 ORDER BY e.id;

4.3 Advanced Grouping:

Q1: For each department, show min, max, and average salary
SELECT d.dept_name, MIN(e.salary) AS MinSal, MAX(e.salary) AS MaxSal, AVG(e.salary) AS AvgSal FROM employees AS e JOIN departments AS d ON e.dept_id = d.dept_id 
GROUP BY d.dept_name;

Q2: Find the department with the highest total salary payout
(Doubt)

Q3: List projects with their employee count and total hours, only where employee count > 2
SELECT p.project_name, COUNT(ep.emp_id) AS Empl_Count, SUM(ep.hours_worked) AS TotalHours FROM employee_projects AS ep JOIN projects AS p ON ep.project_id = p.project_id 
GROUP BY p.project_name HAVING COUNT(ep.emp_id) > 2;

Q4: Group by multiple columns: department and hire year, count employees
SELECT d.dept_name, YEAR(e.hire_date) AS hire_year, COUNT(e.id) AS EmplCount FROM employees AS e JOIN departments AS d ON e.dept_id = d.dept_id 
GROUP BY d.dept_name, YEAR(e.hire_date) ORDER BY hire_year;

Exercise Set 5: Advanced String Functions

Q1: Display full name (first + last) in uppercase for all employees
SELECT CONCAT(UCASE(first_name), " ", UCASE(last_name)) AS FullName FROM employees;

Q2: Create email usernames (part before @) from employee emails
SELECT SUBSTRING_INDEX(email, "@", 1) AS Username FROM employees;

Q3: Find employees whose last name contains 'son'
SELECT * FROM employees WHERE LOCATE("son", last_name) != 0;

Q4: Display employee names with first letter of first name + full last name (e.g., "J. Doe")
SELECT CONCAT(SUBSTR(first_name, 1, 1), ".", last_name) FROM employees;

Q5: Replace all 'New York' locations with 'NY' in departments
SELECT dept_id, dept_name, REPLACE(LOCATION, "New York", "NY") AS location FROM departments;

Q6: Find length of each project name and order by length
SELECT project_name, LENGTH(project_name) AS ProjNameLen FROM projects ORDER BY LENGTH(project_name);

Q7: Extract domain name from employee emails
SELECT SUBSTRING_INDEX(email, "@", -1) AS Domain FROM employees;
